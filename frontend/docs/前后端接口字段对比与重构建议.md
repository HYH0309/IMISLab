# 前后端接口字段对比与重构建议

## 1. 字段/类型对比表

| 业务对象   | 后端字段/类型（接口文档）         | 前端字段/类型（api.d.ts）         | 差异说明                     |
|------------|----------------------------------|-----------------------------------|------------------------------|
| 文章创建   | title: string                    | title: string                     | 一致                         |
|            | content: string                  | content: string                   | 一致                         |
|            | summary: string                  | 无（未定义）                      | 前端缺失 summary 字段         |
|            | coverUrl: string                 | coverUrl?: string                 | 一致                         |
|            | tagIds: string                   | tag_ids: number[]                 | 字段名、类型均不一致          |
| 文章摘要   | tagIds: string                   | tags: string[]                    | 字段名、类型均不一致          |
|            | createdAt: string                | createdAt: Date                   | 类型不一致                   |
| 评论       | articleId: number                | article_id: number                | 字段名风格不一致              |
|            | content: string                  | content: string                   | 一致                         |
| 标签       | name: string                     | name: string                      | 一致                         |
|            | id: number                       | id: number                        | 一致                         |
| OJ题目     | title: string                    | title: string                     | 一致                         |
|            | content: string                  | content: string                   | 一致                         |
| OJ判题     | token: string                    | tokens: string[]                  | 字段名、类型不一致            |
|            | languageId: number               | language_id: number               | 字段名风格不一致              |
|            | sourceCode: string               | source_code: string               | 字段名风格不一致              |
|            | tid: number                      | tid: number                       | 一致                         |

## 2. 主要问题总结

- 字段命名风格不统一（小驼峰 vs 下划线）
- 字段类型不一致（如 tagIds: string vs tag_ids: number[]）
- 前端部分字段缺失或冗余（如 summary、tokens）
- 时间类型不一致（string vs Date）
- 接口路径部分不一致（如图片上传、OJ相关）

## 3. 重构建议

1. **字段命名统一**：前后端统一采用小驼峰命名（如 tagIds、articleId、languageId、sourceCode）。
2. **类型严格对齐**：如后端为 string，前端需转换后再提交（如 tagIds: number[] → string）。
3. **补全/精简字段**：前端类型需补全 summary 字段，去除未用到或后端无的字段。
4. **时间类型统一**：建议前端用 string 存储时间，与后端一致。
5. **接口路径统一**：如图片上传、OJ相关接口路径需与后端保持一致。
6. **接口参数校验**：前端提交前应做类型转换和参数校验，确保与后端期望一致。

---

如需详细字段映射或具体代码重构方案，可进一步细化。
